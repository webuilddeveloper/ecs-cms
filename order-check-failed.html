<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <!--<meta name=description content="This site was generated with Anima. www.animaapp.com"/>-->
  <!-- <link rel="shortcut icon" type=image/png href="https://animaproject.s3.amazonaws.com/home/favicon.png" /> -->
  <meta name="viewport" content="width=1440, maximum-scale=1.0" />
  <link rel="shortcut icon" type="image/png" href="https://animaproject.s3.amazonaws.com/home/favicon.png" />
  <meta name="og:type" content="website" />
  <meta name="twitter:card" content="photo" />
  <link rel="stylesheet" type="text/css" href="css/styles.css" />
</head>

<body>
  <div class="container">
    <!-- Sidebar -->
    <nav class="sidebar">
      <div class="sidebar-header">
        <img src="./img/logo------1.png" alt="Admin Logo" class="sidebar-logo">
        <span class="text-title">ปพ.ออนไลน์</span>
      </div>
      <ul class="sidebar-menu">
        <li class="text-menu-title">เมนู</li>
        <li class="dropdown">
          <a href="#" class="menu-item active"><img src="./img/icon-shopping-cart.png" alt="รายละเอียดคำสั่งซื้อ"
              class="icon-image">
            รายละเอียดคำสั่งซื้อ <img src="./img/icon-arrow-down.png" alt="dropdown" class="icon-image-down"></a>
          <ul class="submenu active">
            <li class="active"><a class="active" href="./order-main.html">คำสั่งซื้อ</a></li>
            <li>
              <a href="#">คำสั่งซื้อสาขา</a>
            </li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="menu-item "><img src="./img/icon-note-edit.png" alt="ฝ่ายวิชาการ" class="icon-image">
            ฝ่ายวิชาการ <img src="./img/icon-arrow-down.png" alt="dropdown" class="icon-image-down"></a>
          <ul class="submenu">
            <li><a href="./pre-print.html">การผลิตเอกสารปพ.</a></li>
            <li><a href="./numric-online-manage.html">Online</a></li>
          </ul>
        </li>
        <li><a href="./warehouse.html" class="menu-item text-menu "><img src="./img/icon-analytics.png" alt="คลังสินค้า"
              class="icon-image">คลังสินค้า</a></li>
        <li class="dropdown">
          <a href="#" class="menu-item"><img src="./img/icon-analytics.png" alt="รายงาน" class="icon-image">
            รายงาน <img src="./img/icon-arrow-down.png" alt="dropdown" class="icon-image-down"></a>
          <ul class="submenu">
            <li><a href="./order-report.html">รายงานคำสั่งซื้อ</a></li>
            <li><a href="./production-report.html">รายงานการผลิต</a></li>
            <li><a href="./delivery-report.html">รายงานการจัดส่ง</a></li>
          </ul>
        </li>
        <li class="text-menu-title">ผู้ดูแลระบบ</li>
        <li class="dropdown">
          <a href="#" class="menu-item"><img src="./img/icon-placeholder.png" alt="กำหนดสิทธิ์" class="icon-image">
            กำหนดสิทธิ์ <img src="./img/icon-arrow-down.png" alt="dropdown" class="icon-image-down"></a>
          <ul class="submenu">
            <li><a href="./permissions-staff.html">เจ้าหน้าที่</a></li>
            <li><a href="./permissions-buyer.html">ผู้ซื้อ</a></li>
          </ul>
        </li>
        <li><a href="./manageuser.html" class="menu-item text-menu"><img src="./img/icon-user.png" alt="จัดการผู้ใช้งาน"
              class="icon-image">จัดการผู้ใช้งาน</a></li>
        <li><a href="./usage-history.html" class="menu-item text-menu"><img src="./img/icon-book.png"
              alt="ประวัติการใช้งาน" class="icon-image">ประวัติการใช้งาน</a></li>
        <li><a href="./user-approval.html" class="menu-item text-menu"><img src="./img/icon-checkmark.png"
              alt="การอนุมัติผู้ใช้งาน" class="icon-image">การอนุมัติผู้ใช้งาน</a></li>
        <li class="dropdown">
          <a href="#" class="menu-item"><img src="./img/icon-image.png" alt="จัดการเนื้อหา" class="icon-image">
            จัดการเนื้อหา <img src="./img/icon-arrow-down.png" alt="dropdown" class="icon-image-down"></a>
          <ul class="submenu">
            <li><a href="./image-content-manage.html">รูปภาพ</a></li>
          </ul>
        </li>
      </ul>
    </nav>

    <!-- Main Content -->
    <div class="main-content-order">
      <!-- User Info Box -->
      <div class="user-info-box">
        <img src="./img/ellipse-11-2@2x.png" alt="User Avatar" class="user-avatar">
        <div class="user-info">
          <h3>John Doe</h3>
          <p>Software Engineer</p>
        </div>
      </div>
      <div class="home-educational-frame-38409">
        <div class="home-educational-frame-38-1">
          <div class="home-educational-frame-38402">
            <div class="home-educational-text-9 valign-text-middle notosansthai-normal-blue-40px">รายละเอียดคำสั่งซื้อ >
              จัดส่งไม่สำเร็จ
            </div>
          </div>
          <div class="approve-school-frame-38357-1">
            <div class="approve-school-frame-38344">
              <a href="./order-main.html" class="m-0">
                <div class="approve-school-text-1-1 notosansthai-semi-bold-black-20px ">ทั้งหมด</div>
              </a>
              <a href="./order-check.html" class="m-0">
                <div class="approve-school-text-1-1 notosansthai-semi-bold-black-20px ">ตรวจสอบคำสั่งซื้อ</div>
              </a>
              <a href="./order-verify-payment.html" class="m-0">
                <div class="approve-school-text-1-1 notosansthai-semi-bold-black-20px">ตรวจสอบการชำระเงิน</div>
              </a>
              <a href="./order-set-number.html" class="m-0">
                <div class="approve-school-text-1-1 notosansthai-semi-bold-black-20px">รอใส่ข้อมูลชุดตัวเลข</div>
              </a>
              <a href="./order-check-dispatched.html" class="m-0">
                <div class="approve-school-text-1-1 notosansthai-semi-bold-black-20px ">ที่ต้องจัดส่ง
                </div>
              </a>
              <a href="./order-check-progress.html" class="m-0">
                <div class="approve-school-text-1-1 notosansthai-semi-bold-black-20px">กำลังจัดส่ง</div>
              </a>
              <a href="./order-check-success.html" class="m-0">
                <div class="approve-school-text-1-1 notosansthai-semi-bold-black-20px">จัดส่งสำเร็จ</div>
              </a>
              <a href="./order-check-cancel.html" class="m-0">
                <div class="approve-school-text-1-1 notosansthai-semi-bold-black-20px">การยกเลิก</div>
              </a>
              <a href="./order-request-refund.html" class="m-0">
                <div class="approve-school-text-1-1 notosansthai-semi-bold-black-20px ">
                  การคืนเงิน/คืนสินค้า</div>
              </a>
              <a href="./order-check-failed.html" class="m-0">
                <div class="approve-school-text-1-1 notosansthai-semi-bold-black-20px title-scroll-active">จัดส่งไม่สำเร็จ</div>
              </a>
            </div>
          </div>
          <div class="order-search
              ">
            <div class="home-educational-input-select-2 input">
              <div class="home-educational-base-form-label-medium">
                <div class="home-educational-label-input notosansthai-medium-vulcan-15px">ค้นหา</div>
              </div>
              <div class="purchase-order-educational-input-search-2 input">
                <div class="purchase-order-educational-input-element input">
                  <img class="purchase-order-educational-icon-addon" src="img/icon-addon-1.svg" alt="icon-addon" />
                  <input class="purchase-order-educational-text_input" name="พมพคาคนหา" placeholder="พิมพ์คำค้นหา"
                    type="text" />
                </div>
              </div>
            </div>
            <div class="home-educational-input-select-2 input">
              <div class="home-educational-base-form-label-medium">
                <div class="home-educational-label-input notosansthai-medium-vulcan-15px">สถานะ</div>
              </div>
              <div class="approval-educational-select-field">
                <select id="agency" class="home-educational-list-custom-dropdown">
                  <option value="" disabled selected>สถานะทั้งหมด</option>
                  <option value="ทั้งหมด">ทั้งหมด</option>
                  <option value="รอตรวจสอบคำสั่งซื้อ">รอตรวจสอบคำสั่งซื้อ</option>
                  <option value="ตรวจสอบการชำระเงิน">ตรวจสอบการชำระเงิน</option>
                  <option value="รอใส่ข้อมูลชุดตัวเลข">รอใส่ข้อมูลชุดตัวเลข</option>
                  <option value="ที่ต้องจัดส่ง">ที่ต้องจัดส่ง</option>
                  <option value="กำลังจัดส่ง">กำลังจัดส่ง</option>
                  <option value="จัดส่งสำเร็จ">จัดส่งสำเร็จ</option>
                  <option value="การยกเลิก">การยกเลิก</option>
                  <option value="การคืนเงิน/คืนสินค้า">การคืนเงิน/คืนสินค้า</option>
                  <option value="จัดส่งไม่สำเร็จ">จัดส่งไม่สำเร็จ</option>
                </select>
                <img class="order-approval-list-dropdown-icon" src="img/dropdown-6.svg" alt="dropdown" />
              </div>
            </div>
            <div class="home-educational-input-select-2 input">
              <div class="home-educational-base-form-label-medium">
                <div class="home-educational-label-input notosansthai-medium-vulcan-15px">เริ่มจาก</div>
              </div>
              <div class="home-educational-select-field">
                <input class="home-educational-select notosansthai-normal-black-15px" name="select"
                  placeholder="เลือกเดือน" type="date" />
                <!-- <img class="home-educational-icon" src="img/dropdown-icon-42.svg" alt="dropdown-icon" /> -->
              </div>
            </div>
            <div class="home-educational-input-select-2 input">
              <div class="home-educational-base-form-label-medium">
                <div class="home-educational-label-input notosansthai-medium-vulcan-15px">จนถึง</div>
              </div>
              <div class="home-educational-select-field">
                <input class="home-educational-select notosansthai-normal-black-15px" name="select"
                  placeholder="เลือกเดือน" type="date" />
                <!-- <img class="home-educational-icon" src="img/dropdown-icon-43.svg" alt="dropdown-icon" /> -->
              </div>
            </div>
            <div class="purchase-order-educational-frame-38496-2">
              <a href="javascript:SubmitForm('form7')">
                <div class="purchase-order-educational-button-5-2 purchase-order-educational-button-7">
                  <div
                    class="purchase-order-educational-text_label-2 valign-text-middle purchase-order-educational-text_label-3 notosansthai-semi-bold-white-20px">
                    ค้นหา
                  </div>
                </div>
              </a>
            </div>
          </div>
          <div class="container-order">
            <!-- Table 1: Only shows headers -->
            <div class="table-container">
              <table class="custom-table">
                <colgroup>
                  <col class="w40" />
                  <col class="w15" />
                  <col class="w15" />
                  <col class="w15" />
                  <col class="w5" />
                </colgroup>
                <thead>
                  <tr class="tr-7F9">
                    <th class="notosansthai-normal-black-15px bor-no">หมายเลขคำสั่งซื้อ</th>
                    <th class="notosansthai-normal-black-15px bor-no">ยอดชำระ</th>
                    <th class="notosansthai-normal-black-15px bor-no">สถานะ</th>
                    <th class="notosansthai-normal-black-15px bor-no">ดำเนินการ</th>
                    <th class="notosansthai-normal-black-15px bor-no"></th>
                  </tr>
                </thead>
                <tbody>
            <div>
              <thead>
                <tr class="tr-7F9">
                  <th class="notosansthai-normal-black-15px order-number">xxxxxxxxxxx</th>
                  <th class="notosansthai-normal-black-15px">1,000</th>
                  <th class="notosansthai-normal-black-15px"> <span class="status-check-failed">
                      <img src="./img/icon-status-failed.svg" alt="รอตรวจสอบ" class="status-icon">จัดส่งไม่สำเร็จ</span>
                  </th>
                  <th class="notosansthai-normal-black-15px school-name"><a href="./order-check-detail-failed.html"
                      class="notosansthai-normal-black-15px">โรงเรียนxxxx</a></th>
                  <th class="notosansthai-normal-black-15px" onclick="showProductCollap('product1')">
                    <img src="./img/btn-down.png" alt="dropdown" class="icon-image-down-left-20px" id="btn-down-2"
                      style="display: flex;" />
                    <img src="./img/btn-up.png" alt="dropdown" class="icon-image-down-left-20px" id="btn-up-2"
                      style="display: none;" />
                  </th>
                </tr>
              </thead>
              <tbody id="product1" style="display: none;">
                <div>
                  <tr class="tr-detail">
                    <td class="group-product">
                      <div class="product">
                        <div class="card-status-popo-1">
                          ปพ.1:ป
                        </div>
                        <div class="card-status-online">
                          ออนไลน์
                        </div>
                        <div class="product-info">
                          <div class="notosansthai-normal-black-15px">ปพ.1:ป ระเบียนแสดงผลการเรียน ระดับ ประถมฯ
                            (ปรับปรุง 2555) (ฉบับใช้กับออนไลน์)</div>
                        </div>
                      </div>
                      <div class="product">
                        <div class="card-status-popo-1">
                          ปพ.1:ป
                        </div>
                        <div class="product-info">
                          <div class="notosansthai-normal-black-15px">ปพ.1:ป ระเบียนแสดงผลการเรียน ระดับ ประถมฯ
                            (ปรับปรุง 2555) (ฉบับใช้กับคอม)</div>
                        </div>
                      </div>
                      <div class="product">
                        <div class="card-status-popo-1-bo">
                          ปพ.1:บ
                        </div>
                        <div class="product-info">
                          <div class="notosansthai-normal-black-15px">ปพ.1:บ ระเบียนแสดงผลการเรียน ระดับ ม.ต้น
                            (ปรับปรุง 2555) (ฉบับใช้กับคอม)</div>
                        </div>
                      </div>
                    </td>

                  </tr>
                </div>
              </tbody>
            </div>
            </tbody>
            </table>
          </div>
        </div>



        <div class="home-educational-input-select-button-footer-default">
          <div class="home-educational-frame-38263">
            <div class="home-educational-input-select-1">
              <div class="home-educational-select-field">
                <select id="agency3" class="home-educational-list-custom-dropdown">
                  <option value="แสดง 9" selected>แสดง 10</option>
                  <option value="แสดง 30">แสดง 30</option>
                  <option value="แสดง 50">แสดง 50</option>
                  <option value="แสดง 100">แสดง 100</option>
                </select>
                <img class="order-approval-list-dropdown-icon" src="img/dropdown-6.svg" alt="dropdown" />
                <!-- <div class="home-educational-select-1 notosansthai-normal-slate-gray-15px">แสดง 10</div>
                      <img class="home-educational-icon" src="img/dropdown-icon-44.svg" alt="dropdown-icon" /> -->
              </div>
            </div>
            <p class="home-educational-text-10 text">แสดง 1-10 รายการ จาก 100 รายการ</p>
          </div>
          <div class="home-educational-pagination">
            <a href="javascript:SubmitForm('form24')">
              <div class="home-educational-button-2 button-6"><img class="home-educational-icon-1"
                  src="img/icon-178.svg" alt="icon" /></div>
            </a><a href="javascript:SubmitForm('form24')">
              <div class="home-educational-button-5 button-6">
                <div class="home-educational-text-sm-1 text-sm-3">1</div>
              </div>
            </a><a href="javascript:SubmitForm('form24')">
              <div class="home-educational-button-3 button-6">
                <div class="home-educational-text-sm text notosansthai-medium-blue-15px">2</div>
              </div>
            </a><a href="javascript:SubmitForm('form24')">
              <div class="home-educational-button-3 button-6">
                <div class="home-educational-text-sm text notosansthai-medium-blue-15px">3</div>
              </div>
            </a><a href="javascript:SubmitForm('form24')">
              <div class="home-educational-button-3 button-6">
                <div class="home-educational-text-sm text notosansthai-medium-blue-15px">4</div>
              </div>
            </a><a href="javascript:SubmitForm('form24')">
              <div class="home-educational-button-3 button-6">
                <div class="home-educational-text-sm text notosansthai-medium-blue-15px">5</div>
              </div>
            </a><a href="javascript:SubmitForm('form24')">
              <div class="home-educational-button-3 button-6">
                <div class="home-educational-text-sm text notosansthai-medium-blue-15px">...</div>
              </div>
            </a><a href="javascript:SubmitForm('form24')">
              <div class="home-educational-button-3 button-6">
                <div class="home-educational-text-sm-2 text-sm-3 notosansthai-medium-blue-15px">10</div>
              </div>
            </a><a href="javascript:SubmitForm('form24')">
              <div class="home-educational-button-2 button-6"><img class="home-educational-icon-1"
                  src="img/icon-179.svg" alt="icon" /></div>
            </a>
          </div>
        </div>
      </div>

    </div>
  </div>

  <script>
    // JavaScript to handle the dropdown menu toggle
    const dropdown = document.querySelectorAll('.dropdown > a');
    dropdown.forEach(item => {
      item.addEventListener('click', function (e) {
        e.preventDefault();
        const submenu = this.nextElementSibling;
        submenu.classList.toggle('active');
        const arrow = this.querySelector('.arrow');
        arrow.classList.toggle('rotate');
      });
    });

    // JavaScript to highlight the selected menu item
    const menuItems = document.querySelectorAll('.menu-item');
    menuItems.forEach(item => {
      item.addEventListener('click', function () {
        menuItems.forEach(i => i.classList.remove('active')); // Remove active from all items
        this.classList.add('active'); // Add active to the clicked item
      });
    });
  </script>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      let inputs = document.querySelectorAll(".purchase-order-educational-text_input, #agency, input[type='date']");

      inputs.forEach(input => {
        input.addEventListener("input", filterTable);
      });
    });

    function filterTable() {
      let searchText = document.querySelector(".purchase-order-educational-text_input").value.trim().toLowerCase();
      let statusFilter = document.getElementById("agency").value;

      let orderTables = document.querySelectorAll(".custom-table"); // ดึงทุกตารางคำสั่งซื้อ
      let hasResults = false; // ตรวจสอบว่ามีผลลัพธ์ที่ค้นหาพบหรือไม่

      orderTables.forEach(orderTable => {
        let showOrderTable = false; // ใช้สำหรับซ่อนหรือแสดงตารางแต่ละคำสั่งซื้อ
        let orderRows = orderTable.querySelectorAll("tbody tr"); // ดึงแถวทั้งหมดในตาราง

        orderRows.forEach(row => {
          let showRow = false; // ตั้งค่าเริ่มต้นให้ซ่อนทุกแถวก่อน

          // **ค้นหาด้วยหมายเลขคำสั่งซื้อ**
          let orderNumberElement = row.closest("table").querySelector(".order-number");
          let orderNumber = orderNumberElement ? orderNumberElement.innerText.replace("หมายเลขคำสั่งซื้อ: ", "").trim().toLowerCase() : "";

          // **ค้นหาด้วยชื่อโรงเรียน**
          let schoolNameElement = row.closest("table").querySelector(".school-name");
          let schoolName = schoolNameElement ? schoolNameElement.innerText.trim().toLowerCase() : "";

          // **ค้นหาด้วยชื่อสินค้า**
          let productNameElement = row.querySelector(".product-name");
          let productName = productNameElement ? productNameElement.innerText.trim().toLowerCase() : "";

          // **ค้นหาด้วยสถานะ**
          let statusElement = row.querySelector(".status");
          let orderStatus = statusElement ? statusElement.innerText.trim().toLowerCase() : "";

          // **ตรวจสอบเงื่อนไขการค้นหา**
          if (searchText) {
            if (orderNumber.includes(searchText) || schoolName.includes(searchText)) {
              showRow = true;
            }
          } else {
            showRow = true; // ถ้าไม่มีข้อความค้นหา ให้แสดงทั้งหมด
          }

          // **ตรวจสอบสถานะ**
          if (statusFilter && statusFilter !== "ทั้งหมด") {
            if (orderStatus !== statusFilter) {
              showRow = false;
            }
          }

          // **แสดงหรือซ่อนแถวสินค้า**
          row.style.display = showRow ? "" : "none";

          if (showRow) {
            showOrderTable = true;
            hasResults = true;
          }
        });

        // **แสดงหรือซ่อนทั้งตารางคำสั่งซื้อ**
        orderTable.style.display = showOrderTable ? "" : "none";
      });

      // **จัดการกรณีไม่มีข้อมูล**
      let noResultsRow = document.querySelector("#no-results-row");
      if (!hasResults) {
        if (!noResultsRow) {
          let tableContainer = document.querySelector(".table-container");
          noResultsRow = document.createElement("div");
          noResultsRow.id = "no-results-row";
          noResultsRow.innerHTML = `<p style="text-align:center; color: red; font-size: 18px;">ไม่พบข้อมูล</p>`;
          tableContainer.appendChild(noResultsRow);
        }
      } else {
        if (noResultsRow) {
          noResultsRow.remove();
        }
      }
    }

    function showProductCollap(param) {
      const content = document.getElementById(param);
      if (param == 'product1') {
        if (content.style.display == "none") {
          content.style.display = "table-row-group";
          document.getElementById('btn-down-1').style.display = 'none';
          document.getElementById('btn-up-1').style.display = 'flex';
        } else {
          content.style.display = "none";
          document.getElementById('btn-down-1').style.display = 'flex';
          document.getElementById('btn-up-1').style.display = 'none';
        }
      } else if (param == 'product2') {
        if (content.style.display == "none") {
          content.style.display = "table-row-group";
          document.getElementById('btn-down-2').style.display = 'none';
          document.getElementById('btn-up-2').style.display = 'flex';
        } else {
          content.style.display = "none";
          document.getElementById('btn-down-2').style.display = 'flex';
          document.getElementById('btn-up-2').style.display = 'none';
        }
      } else if (param == 'product3') {
        if (content.style.display == "none") {
          content.style.display = "table-row-group";
          document.getElementById('btn-down-3').style.display = 'none';
          document.getElementById('btn-up-3').style.display = 'flex';
        } else {
          content.style.display = "none";
          document.getElementById('btn-down-3').style.display = 'flex';
          document.getElementById('btn-up-3').style.display = 'none';
        }
      }

    }

  </script>
</body>

</html>